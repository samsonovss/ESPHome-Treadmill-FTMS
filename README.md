# ESPHomeTreadmill

Бортовой компьютер для беговой дорожки на базе EspHome с поддержкой Zwift, работает через UART для плат серии: PSA(xx)
команды UART которые удалось подслушать (но в целом может быть любая плата которая отправляет команды по UART)
- Скорость [Setspeed:xxx] (где xxx) скорость, пример [Setspeed:010] = 1км/ч
- Наклон [Setincline:xxx] (где xxx) высота, пример [Setincline:000] = 0%

Рекомендация для проекта 
 - Esp32 S3 (настоятельно рекомендуется)
 - Преобразователь напряжения с 12v на 5v (не изолированный)
 - 2ch Logic Level Converter 5V to 3.3V (для согласования уровней между нижней платой и Esp32 S3)
 - Беговая дорожка с серии плат серии: PSA(xx) но подойдет любая которая отправляети принимает команды по UART RX-TX

Возможности
  - Поддержка Zwift
  - Подключение пульсометра
  - Расчет зон пульс по (возраст, пол)
  - Реальный наклон в процентах
  - Управление с ручек беговой дорожки (наклон - скорость, подключается к esp32s3)
  - Тренировка без пульсометра (ручной режим)
  - Локальное сохранение ваших пробежек и возможность просмотра в Grafana
  - Интелектуальное изминение скорости для пуьсометра
    - если разница до зоны пульс больше 20 чсс, то скорость плавно изменяется на +-0.5 с шагом по 0.1 каждые 2е секунды.
    - если разница меньше 20чсс, то скорость плавно изменяется на +-0.1. каждые 20 секунд
  
  Разминка
  - Интелектуальный разогрев (для согревания связок и перевода сердца в 1 зону пульса)
  - настраиваемое время
  - ждет пока пульс не достигнет зоны 1, если достиг и время вышло, то переход к основной программе
    
  Заминка
  - Интелектуальная заминка, плавно снижает скорость пока сердцечный ритм не достигнет зоны 1
  - настраиваемое время

Интелектуальные программы (с пульсометром и регулировкой скорости и наклона)
- настраиваемая зона пульса (регулирует скорость чтобы поддерживать пульс в зоне)
- Жиросжигающая тренировка (2а зона пульса, регулирует скорость и удерживает скорость)
- Интервальная тренировка (с учетом пульса, переход между зоной пульса 1 и 4, скорость автоматически регулируется
- Востановительный бег (поддержания зоны пульса 1)

В будущем добавление:
- стандарта FTMS (Kinomap, iFit)
- Дисплей с интерфейсом доя удобства
